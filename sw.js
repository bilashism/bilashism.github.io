const staticCacheName="static-caches",dynamicCacheName="dynamic-caches",staticAssets=["./","./index.html","./css/style.css","./js/app.js","./img/favicon-apple-touch-icon.png","./img/favicon.ico","./img/avater-up-640.webp","./img/avater-up-640.png","./pages/nda-content.html","./pages/fallback.html"],limitCacheSize=(e,t)=>{caches.open(e).then(c=>{c.keys().then(a=>{a.length>t&&c.delete(a[0]).then(limitCacheSize(e,t))})})};self.addEventListener("install",e=>{e.waitUntil(caches.open("static-caches").then(e=>{e.addAll(staticAssets)}))}),self.addEventListener("activate",e=>{e.waitUntil(caches.keys().then(e=>Promise.all(e.filter(e=>"static-caches"!==e&&"dynamic-caches"!==e).map(e=>caches.delete(e)))))}),self.addEventListener("fetch",e=>{e.respondWith(caches.match(e.request).then(t=>t||fetch(e.request).then(t=>caches.open("dynamic-caches").then(c=>(c.put(e.request.url,t.clone()),limitCacheSize("dynamic-caches",10),t)))).catch(()=>{if(e.request.url.indexOf(".html")>-1)return caches.match("./pages/fallback.html")}))});